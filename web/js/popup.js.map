{"version":3,"names":[],"mappings":"","sources":["popup.js"],"sourcesContent":["// Popups\n\n(function(){\n    var ppOpen = $('.open-popup'),\n        popup = $('.popup'),\n        ppOverlay = $('.popup-overlay'),\n        ppBtnClose = $('.popup-close'),\n        body = $('body');\n\n\n    // Ширина полосы прокрутки\n    var measureWidthScroll = function () {\n        var scrollWidth, div;\n\n        div = document.createElement('div');\n\n        div.style.overflowY = 'scroll';\n        div.style.width = '50px';\n        div.style.height = '50px';\n        div.style.visibility = 'hidden';\n\n        document.body.appendChild(div);\n        scrollWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n\n        return scrollWidth;\n    }\n\n    // Open popup\n    function handleOpenPopup(e) {\n        e.preventDefault();\n        var ppOpenName = $(this).data('name');\n\n        popup.each(function(index, el) {\n            if ( $(el).data('name') === ppOpenName && !($(el).hasClass('visible')) ) {\n                \n                $(el).addClass('visible');\n                $(el).parent().addClass('visible');\n                body.addClass('no-scroll')\n                        .css('margin-right', measureWidthScroll() + 'px');\n            }\n        })\n    };\n\n    // Close popup (overlay)\n    function handleClosePopup(e) {\n        var el= $(e.target);\n\n        if ( el.is(this) && $(this).hasClass('visible') ) {\n            $(this).removeClass('visible');\n            $(this).find('.popup').removeClass('visible');\n            body.removeClass('no-scroll').css('margin-right', '');\n        }\n    }\n\n    // Close popup (btn close)\n    function handleClosePopupOnBtn() {\n        var firstParent = $(this).parent();\n        var secondParent = $(this).closest(ppOverlay);\n\n        if ( firstParent.hasClass('visible') && secondParent.hasClass('visible') ) {\n            firstParent.removeClass('visible');\n            secondParent.removeClass('visible');\n            body.removeClass('no-scroll').css('margin-right', '');\n        }\n    }\n\n    ppOpen.each(function() {\n        $(this).on('click', handleOpenPopup);\n    })\n\n    ppOverlay.each(function() {\n        $(this).on('click', handleClosePopup);\n    })\n\n    ppBtnClose.each(function() {\n        $(this).on('click', handleClosePopupOnBtn);\n    })\n\n})();"],"file":"popup.js"}